<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="446px" preserveAspectRatio="none" style="width:707px;height:446px;" version="1.1" viewBox="0 0 707 446" width="707px" zoomAndPan="magnify"><defs><linearGradient id="g13wi9dgpbut8u0" x1="0%" x2="100%" y1="50%" y2="50%"><stop offset="0%" stop-color="#9351E5"/><stop offset="100%" stop-color="#EF468B"/></linearGradient></defs><g><text fill="#323A4E" font-family="Source Sans Pro" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="277" x="216" y="21.5716">Mesosphere Enterprise DC/OS Authorization</text><rect fill="#F56753" height="331.8523" style="stroke: #F56753; stroke-width: 1.0;" width="10" x="39" y="83.9769"/><rect fill="#F56753" height="150.9261" style="stroke: #F56753; stroke-width: 1.0;" width="10" x="216" y="114.9769"/><rect fill="#F56753" height="215.8966" style="stroke: #F56753; stroke-width: 1.0;" width="10" x="413" y="181.9326"/><rect fill="#F56753" height="179.9261" style="stroke: #F56753; stroke-width: 1.0;" width="10" x="609" y="235.9031"/><line style="stroke: #F56753; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="44" x2="44" y1="73.9769" y2="434.8145"/><line style="stroke: #F56753; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="220.5" x2="220.5" y1="73.9769" y2="434.8145"/><line style="stroke: #F56753; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="417.5" x2="417.5" y1="73.9769" y2="434.8145"/><line style="stroke: #F56753; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="614" x2="614" y1="73.9769" y2="434.8145"/><rect fill="url(#g13wi9dgpbut8u0)" height="41.9846" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 0.0;" width="72" x="8" y="30.9923"/><text fill="#FFFFFF" font-family="Source Sans Pro" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="58" x="15" y="49.2141">API/CLI/UI</text><text fill="#FFFFFF" font-family="Source Sans Pro" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="33" x="27.5" y="63.2065">Client</text><rect fill="url(#g13wi9dgpbut8u0)" height="41.9846" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 0.0;" width="53" x="194.5" y="30.9923"/><text fill="#FFFFFF" font-family="Source Sans Pro" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="202" y="49.2141">Admin</text><text fill="#FFFFFF" font-family="Source Sans Pro" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="39" x="201.5" y="63.2065">Router</text><rect fill="url(#g13wi9dgpbut8u0)" height="41.9846" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 0.0;" width="107" x="364.5" y="30.9923"/><text fill="#FFFFFF" font-family="Source Sans Pro" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="383.5" y="49.2141">Identity and</text><text fill="#FFFFFF" font-family="Source Sans Pro" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="93" x="371.5" y="63.2065">Access Manager</text><rect fill="url(#g13wi9dgpbut8u0)" height="41.9846" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 0.0;" width="144" x="542" y="30.9923"/><text fill="#FFFFFF" font-family="Source Sans Pro" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="40" x="594" y="49.2141">Mesos/</text><text fill="#FFFFFF" font-family="Source Sans Pro" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="130" x="549" y="63.2065">Marathon/Metronome</text><rect fill="#F56753" height="331.8523" style="stroke: #F56753; stroke-width: 1.0;" width="10" x="39" y="83.9769"/><rect fill="#F56753" height="150.9261" style="stroke: #F56753; stroke-width: 1.0;" width="10" x="216" y="114.9769"/><rect fill="#F56753" height="215.8966" style="stroke: #F56753; stroke-width: 1.0;" width="10" x="413" y="181.9326"/><rect fill="#F56753" height="179.9261" style="stroke: #F56753; stroke-width: 1.0;" width="10" x="609" y="235.9031"/><polygon fill="#323A4E" points="204,110.9769,214,114.9769,204,118.9769,208,114.9769" style="stroke: #323A4E; stroke-width: 1.0;"/><line style="stroke: #323A4E; stroke-width: 1.0;" x1="49" x2="210" y1="114.9769" y2="114.9769"/><text fill="#323A4E" font-family="Source Sans Pro" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="56" y="98.3911">HTTP request with</text><text fill="#323A4E" font-family="Source Sans Pro" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="148" x="56" y="111.3763">authentication token (JWT)</text><line style="stroke: #323A4E; stroke-width: 1.0;" x1="226" x2="268" y1="142.9326" y2="142.9326"/><line style="stroke: #323A4E; stroke-width: 1.0;" x1="268" x2="268" y1="142.9326" y2="155.9326"/><line style="stroke: #323A4E; stroke-width: 1.0;" x1="227" x2="268" y1="155.9326" y2="155.9326"/><polygon fill="#323A4E" points="237,151.9326,227,155.9326,237,159.9326,233,155.9326" style="stroke: #323A4E; stroke-width: 1.0;"/><text fill="#323A4E" font-family="Source Sans Pro" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="233" y="138.3615">verify JWT</text><polygon fill="#323A4E" points="401,177.9326,411,181.9326,401,185.9326,405,181.9326" style="stroke: #323A4E; stroke-width: 1.0;"/><line style="stroke: #323A4E; stroke-width: 1.0;" x1="226" x2="407" y1="181.9326" y2="181.9326"/><text fill="#323A4E" font-family="Source Sans Pro" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="168" x="233" y="178.3468">is JWT authorized for resource?</text><polygon fill="#323A4E" points="237,204.9178,227,208.9178,237,212.9178,233,208.9178" style="stroke: #323A4E; stroke-width: 1.0;"/><line style="stroke: #323A4E; stroke-width: 1.0;" x1="231" x2="412" y1="208.9178" y2="208.9178"/><text fill="#323A4E" font-family="Source Sans Pro" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="243" y="205.332">yes|no</text><polygon fill="#323A4E" points="597,231.9031,607,235.9031,597,239.9031,601,235.9031" style="stroke: #323A4E; stroke-width: 1.0;"/><line style="stroke: #323A4E; stroke-width: 1.0;" x1="226" x2="603" y1="235.9031" y2="235.9031"/><text fill="#323A4E" font-family="Source Sans Pro" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="233" y="232.3172">forward request</text><rect fill="none" height="108.9409" style="stroke: #27C97B; stroke-width: 2.0;" width="341.5" x="354.5" y="281.8883"/><polygon fill="#27C97B" points="354.5,281.8883,419.5,281.8883,419.5,285.8883,409.5,295.8883,354.5,295.8883,354.5,281.8883" style="stroke: #27C97B; stroke-width: 2.0;"/><text fill="#323A4E" font-family="Source Sans Pro" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="20" x="369.5" y="293.6271">opt</text><text fill="#323A4E" font-family="Source Sans Pro" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="97" x="434.5" y="292.974">[permissive/strict]</text><line style="stroke: #323A4E; stroke-width: 1.0;" x1="619" x2="661" y1="315.8588" y2="315.8588"/><line style="stroke: #323A4E; stroke-width: 1.0;" x1="661" x2="661" y1="315.8588" y2="328.8588"/><line style="stroke: #323A4E; stroke-width: 1.0;" x1="620" x2="661" y1="328.8588" y2="328.8588"/><polygon fill="#323A4E" points="630,324.8588,620,328.8588,630,332.8588,626,328.8588" style="stroke: #323A4E; stroke-width: 1.0;"/><text fill="#323A4E" font-family="Source Sans Pro" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="626" y="311.2877">verify JWT</text><polygon fill="#323A4E" points="434,350.8588,424,354.8588,434,358.8588,430,354.8588" style="stroke: #323A4E; stroke-width: 1.0;"/><line style="stroke: #323A4E; stroke-width: 1.0;" x1="428" x2="608" y1="354.8588" y2="354.8588"/><text fill="#323A4E" font-family="Source Sans Pro" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="440" y="351.2729">is JWT authorized for resource</text><polygon fill="#323A4E" points="597,377.844,607,381.844,597,385.844,601,381.844" style="stroke: #323A4E; stroke-width: 1.0;"/><line style="stroke: #323A4E; stroke-width: 1.0;" x1="423" x2="603" y1="381.844" y2="381.844"/><text fill="#323A4E" font-family="Source Sans Pro" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="430" y="378.2581">yes|no</text><polygon fill="#323A4E" points="55,411.8292,45,415.8292,55,419.8292,51,415.8292" style="stroke: #323A4E; stroke-width: 1.0;"/><line style="stroke: #323A4E; stroke-width: 1.0;" x1="49" x2="613" y1="415.8292" y2="415.8292"/><text fill="#323A4E" font-family="Source Sans Pro" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="61" y="412.2434">response</text><!--
@startuml

' Mesosphere Theme to be used with the PlantUML !includeurl directive like so:
'!includeurl https://raw.githubusercontent.com/vishnu2kmohan/puml/master/ipuml/Mesosphere.ipuml

' Mesosphere Colors

' Uncomment to use the new Teoz layout engine instead of Puma (default)
'!pragma teoz on

skinparam arrowColor              #323A4E
skinparam backgroundColor         transparent
skinparam defaultFontName         Source Sans Pro
skinparam footerFontColor         #323A4E
skinparam headerFontColor         #323A4E
skinparam roundcorner             10
skinparam shadowing               false
skinparam titleFontColor          #323A4E

skinparam activity {
  ArrowColor                      #323A4E
  ArrowFontColor                  #323A4E
  BackgroundColor                 #9351E5|#EF468B
  BarColor                        #323A4E
  BorderColor                     transparent
  BorderThickness                 0
  DiamondBackgroundColor          #9351E5|#EF468B
  DiamondBorderColor              transparent
  DiamondBorderThickness          0
  DiamondFontColor                white
  EndColor                        #323A4E
  FontColor                       white   
  PartitionBackgroundColor        transparent
  PartitionBorderColor            #323A4E
  PartitionFontColor              #323A4E
  StartColor                      #323A4E
}

skinparam actor {
  BackgroundColor                 #9351E5|#EF468B
  BorderColor                     #9351E5
}

skinparam note {
  BackgroundColor                 #FEDF57
  BorderColor                     #FEDF57
  BorderThickness                 0
  FontColor                       #323A4E
}

skinparam partition {
  BackgroundColor                 transparent
  BorderColor                     #323A4E
  FontColor                       #323A4E
}

skinparam sequence {
  ArrowColor                      #323A4E
  ArrowFontColor                  #323A4E
  BoxBackgroundColor              #20D5FF
  BoxBorderColor                  #20D5FF
  BoxFontColor                    #323A4E
  BoxLineColor                    #20D5FF
  DividerBackgroundColor          #323A4E
  DividerBorderColor              #323A4E
  DividerFontColor                white
  GroupBackgroundColor            #27C97B
  GroupBodyBackgroundColor        transparent
  GroupBorderColor                #27C97B
  GroupFontColor                  #323A4E
  GroupHeaderFontColor            #323A4E
  LifeLineBackgroundColor         #F56753
  LifeLineBorderColor             #F56753
  MessageAlign                    left
  NewpageSeparatorColor           #323A4E
  ParticipantBackgroundColor      #9351E5|#EF468B
  ParticipantBorderColor          transparent
  ParticipantBorderThickness      0
  ParticipantFontColor            white
  ReferenceBackgroundColor        #323A4E
  ReferenceBorderColor            #323A4E
  ReferenceFontColor              white
  ReferenceHeaderBackgroundColor  #323A4E
  StereotypeFontColor             #323A4E
  TitleFontColor                  #323A4E
}

skinparam state {
  ArrowColor                      #323A4E 
  AttributeFontColor              white
  BackgroundColor                 #9351E5|#EF468B
  BorderColor                     #F56753
  EndColor                        #323A4E
  FontColor                       white
  StartColor                      #323A4E
}

skinparam swimlane {
  BorderThickness                 0
  TitleFontColor                  #323A4E
  Width                           same
}

title Mesosphere Enterprise DC/OS Authorization
hide footbox
' To print on US Letter, uncomment the scale directive
'scale 1056*816

participant C as "API/CLI/UI\nClient"
participant AR as "Admin\nRouter"
participant IAM as "Identity and\nAccess Manager"
participant MMM as "Mesos/\nMarathon/Metronome"

activate C
C -> AR : HTTP request with\nauthentication token (JWT)
activate AR
AR -> AR : verify JWT
AR -> IAM : is JWT authorized for resource?
activate IAM
IAM -> AR : yes|no
AR -> MMM : forward request
activate MMM
deactivate AR
opt permissive/strict
    MMM -> MMM : verify JWT
    MMM -> IAM : is JWT authorized for resource
    IAM -> MMM : yes|no
end
deactivate IAM
MMM -> C : response
deactivate MMM
deactivate C

@enduml

PlantUML version 1.2017.15(Mon Jul 03 12:45:34 EDT 2017)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_144-b01
Operating System: Linux
OS Version: 4.12.8-gentoo-dsdt-fix
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>